<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <title>Journal App</title>
    <base href="/" />
    <link rel="stylesheet" href="css/bootstrap/bootstrap.min.css" />
    <link rel="stylesheet" href="css/app.css" />
    <link rel="stylesheet" href="Maui.styles.css" />
    <link rel="icon" href="data:,">
    <!-- Quill.js -->
    <link href="https://cdn.jsdelivr.net/npm/quill@2.0.2/dist/quill.snow.css" rel="stylesheet" />
</head>

<body>

    <div class="status-bar-safe-area"></div>

    <div id="app">Loading...</div>

    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">ðŸ—™</a>
    </div>

    <script src="_framework/blazor.webview.js" autostart="false"></script>
    <!-- Quill.js -->
    <script src="https://cdn.jsdelivr.net/npm/quill@2.0.2/dist/quill.js"></script>
    
    <script>
        window.setTheme = (theme) => {
            document.documentElement.setAttribute('data-bs-theme', theme);
        };
        
        window.getTheme = () => {
            return document.documentElement.getAttribute('data-bs-theme') || 'light';
        };

        // Quill editor instance
        window.quillEditor = null;

        window.initQuill = (elementId) => {
            const container = document.getElementById(elementId);
            if (!container) return false;

            window.quillEditor = new Quill('#' + elementId, {
                theme: 'snow',
                modules: {
                    toolbar: [
                        [{ 'header': [1, 2, 3, false] }],
                        ['bold', 'italic', 'underline', 'strike'],
                        [{ 'list': 'ordered'}, { 'list': 'bullet' }],
                        ['blockquote', 'code-block'],
                        ['link'],
                        ['clean']
                    ]
                },
                placeholder: 'Write your thoughts...'
            });
            return true;
        };

        window.getQuillContent = () => {
            if (window.quillEditor) {
                return window.quillEditor.root.innerHTML;
            }
            return '';
        };

        window.setQuillContent = (html) => {
            if (window.quillEditor) {
                window.quillEditor.root.innerHTML = html || '';
            }
        };

        window.destroyQuill = () => {
            window.quillEditor = null;
        };
    </script>

</body>

</html>